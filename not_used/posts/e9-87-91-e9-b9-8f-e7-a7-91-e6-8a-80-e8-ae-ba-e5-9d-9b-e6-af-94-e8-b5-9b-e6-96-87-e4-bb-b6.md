---
title: 金鹏科技论坛比赛文件
url: 13901.html
id: 13901
categories:
  - Computer
  - Personal
  - 未分类
date: 2018-05-16 13:15:47
tags:
---

项目研究报告
======

项目名称： 水上救生物品自动抛掷系统
==================

摘要 水上救生装置是救助落水人员的重要设备，经过本次对水上救生物品抛掷装置的研究，基于抛掷速度、角度等参数的设定来实现救生物品的自动、精确抛掷，保证救生物品在水上复杂环境的扰动下仍然能够及时、准确地到达落水人员所在位置，适应于存在风力干扰、水面波动和水面有障碍物造成近距离救援受限等紧急情况，能够将救生物品准确抛掷到落水人员位置，对于及时有效地开展水上救助具有重要的实用价值。 在项目具体实施过程中,首先要利用步进电机带动皮带轮来调整抛掷机构的上下角度，再将抛掷机构及储存部分放到旋转平台，旋转平台也连接一台步进电机来实现水平方向的角度调整。 硬件核心MCU采用搭载atmel mega32芯片的 Arduino开发板，使用42步进电机驱动角度控制，在实现自动控制的同时保证了角度控制的准确性。 抛掷装置整体结构设计简单、占用空间少、自动化程度高。 本项目在装置设计过程中部分借鉴了乒乓球发射系统的设计思路，将发球技术运用到水上救生救援上，方便快捷，体积小、重量轻，救生效率高；操作和控制简便，任何工作人员能够容易地掌握和使用它；采用遥控装置，避免了施救人员与落水者的身体接触，充分保证了救援人员的安全性。

目录
==

摘要 1

1.  项目背景 1
2.  项目概述 2
3.  创新点及关键技术 3
4.  总体方案 4
5.  详细设计 5 5.1. 功能1 5 5.1.1. 功能概述 5 5.1.2. 硬件实现 5 5.1.3. 软件实现 5 5.2. 功能2 5 5.2.1. 功能概述 5 5.2.2. 硬件实现 5 5.2.3. 软件实现 5
6.  产品测试 6
7.  结论 7
8.  市场前景 8 参考文献 9

1.  项目背景 在水上体育竞技项目及日益增多的水上娱乐活动中，水上救生物品是确保人们生命财产安全的重要保障。在发生人员落水等突发情况时，需要水上救生人员在最快时间内将救生圈、救生衣等救生物品抛掷到落水人员所在位置，防止落水人员溺水、下沉。由于救援物品的重量一般较大，难以手动抛掷到较远距离，更难保证能准确地投掷到落水人员的所在位置。在风大浪急等不利于开展水上救援的情形下，救援人员若采用手动方式投掷，也增加了救援人员的风险。 通过网上检索资料，发现现阶段水上救援物品抛掷装置主要为气动式绳索发射器，其主要功能为抛掷救援绳索，部分可以附带抛掷救生衣，能够抛掷的救援物品种类也有限。此外，现阶段水上救援物品发射器多为手持式，难以保证物品投射的位置精度，不利于水上救援工作的有效开展。 1.1. 国内外产品现状 水上救生设备主要包括：救生衣、救生筏、救生电台以及海上防身武器和防鲨剂等，救援物品的种类繁多，其形状、重量各部相同，具有很大的差异性，目前国内外水上物品投射装置主要实现的是对救生衣的抛掷，还难以满足多种救生物品的投射需求。 1.1.1. 国内产品介绍 美式救生抛投器 类型编号：TS-0001 江苏百锐特贸易有限公司研发的TS-0001美式救生抛投器主要应用于消防救援、急流救援、船只之间的绳索连接及发射锚钩等用途，可实现水陆两种环境下救生绳、救生圈的远距离抛投。抛掷动力方式为气瓶气动喷射，主要由发射机械装置、发射气瓶总成、充气装置、保护装置、快速自动充气救生装置附件等组成。 基本技术指标： 抛掷范围60-100m； 陆用时：绳长150m、3mm直径陆用绳1条，水平发射距离100m。 水用时：长92m、6mm直径水用绳1条，水平发射距离60m（带救生圈），自动充气救生圈掉入水中自动充气浮起。 1.1.2. 国外产品介绍 ResQmax美国救援绳索发射器枪 产品型号：KIT系列 动力：压缩空气作为推动力； 抛掷距离：100m； 陆用时：绳长：150m；直径：3mm；水平发射距离：120m； 水用时：绳长：100m；直径：6mm；水平发射距离: 60m（带自动充气救生圈）；抛掷绳拉力：2000牛； 1.1.3. 产品对比分析 产品类型 设备动力 发射距离 投射物品 抛掷方式 TS-0001 压缩空气 60-100m 绳索 手动 KIT系列 压缩空气 100m 绳索 手动 本项目 电机 10m（样机） 绳索、救生衣等救生物品 自动 1.1.4. 项目的必要性 水上休闲娱乐、体育竞技等活动是现代人生活的重要组成部分，全民参与水上活动的积极性越来越高。为保护水上活动人员的生命安全和救援的及时有效，给人们提供一个安全的水上健身娱乐环境，水上救生越来越值得高度重视。 水上救生装置是救助落水人员的重要设备，在风力干扰、水面波动、水面障碍物限制等情况下将救生物品准确抛掷到落水人员位置，对于及时有效地开展水上救助具有重要意义。因此，有必要进行水上救生物品抛掷装置的研究，实现通过抛掷速度、抛掷角度等参数的设定实现救生物品的自动、精确、快速抛掷，保证救生物品在水上复杂环境的扰动下仍然能够及时、准确到达落水人员所在位置，从而保证能够有效开展和完成水上救援工作。此外，若由于水上环境过于复杂而无法对落水人员立即开展救助，也可以通过救生物品抛掷装置抛投食物、饮水等物品，满足在特殊情况下的水上救生需求。

 

1.  项目概述 此工具将具有水上救生设备精准发射功能，在河流湖泊甚至游泳池附近都具有其使用价值。 由于使用了Arduino作为主控板、Opencv作为补偿计算方法，发射部分采用高精度步进电机和数字舵机，所以具有极高的发射精度。 设备可自定义目标落点，通过多次补偿计算，达到高精度发射目的。在救生领域有很高的使用价值，对于从事救生工作的消防队员，可辅助大幅提高救援能力，降低施救难度和救援人员自身安全风险，避免或减少人员落水事故的伤亡。 对于被救人员，能够及时、准确地得到救生物品，在落水事故中大大提高成功获救的可能性。

 

1.  创新点及关键技术 3.1创新点 相比现在国内市场已经存在的水上救生装置，水上救生物品抛掷的功能更多、更为完善，自动化计算确定抛掷角度更精确，不仅可以抛掷水上救生物品，还可以多自由度调整，抛掷救生物品的角度可调、范围更大，产品智能化和实用性水平大大提升。  抛掷装置可多自由度调整 此水上救生物品抛掷装置固定在水边，当水中有人需要救援时，此装置可以快速调整抛掷的水平角度和竖直角度，通过抛掷速度控制远近，救援范围很大。通过预先设置好的参数，快速精确定位寻找待救援人员。  适应多种救援物品形状的抛掷需求 此水上救生物品抛掷装置可以储存更多不同种类的救援物品，并根据需要自动选择发射，满足不同人员、不同需求的水上救援。救援物品的形状可能不同，此装置均可满足抛掷能力。 3.2 关键技术  抛掷装置角度调整 为实现水上救生物品抛掷装置的角度调整，需要在装置结构设计上实现水平方向和竖直方向的旋转，并通过步进电机及同步带轮带动其转动，同时，通过单片机控制步进电机实现角度的精确可调。  多种救援物品的抛掷 这里需要抛掷机构适应多种形状救援物品，并通过抛掷速度控制实现对抛掷距离的调整。同时，需要设计一个抛掷物品储存机构，可以储存多个救援物品并在需要时能逐个将其送入抛掷机构。

 

1.  总体方案 4.1 功能模块 总体方案是利用步进电机带动皮带轮调整抛掷机构的上下角度，再将抛掷机构及储存部分放到一旋转平台上，将旋转平台再连接一步进电机来实现水平方向的角度调整。  在硬件组成方面，硬件核心MCU采用搭载atmel mega32芯片的 Arduino开发板。  使用42步进电机驱动角度控制，步距角1.8°。  两个摩擦轮发射结构来抛掷救援物品。 4.2 程序设计 发射程序设计思路叙述如下： 每一次发射作业将经历4个过程。 第一，由Arduino进行发射系统自检以及功能可用性检测，之后执行初始化工作。 第二，初始化结束后，进入首次发射程序，arduino自动测量风速并进行基础补偿计算，计算距离和所需的初速度，计算结束后进行首次发射 第三，发射后视觉识别系统对已发射救生球进行追踪，追踪其运动轨迹及最终落点。计算与目标点间的偏移，综合风速进行第二次补偿计算。（若偏移较小将不进入第四步） 第四，执行二次发射程序。使用进行二次补偿的结果进行发射。同时执行追踪程序（同步骤三） 采用arduino作为主控板，另加一电脑作为opencv识别系统计算部分。 arduino控制步进电机和舵机，从而改变发射角度和发射方向。发射程序如下： 首先，由Arduino进行发射系统自检以及功能可用性检测，之后执行初始化工作。 第二，初始化结束后，进入首次发射程序，arduino自动测量风速并进行基础补偿计算，计算距离和所需的初速度，计算结束后进行首次发射 第三，发射后视觉识别系统对已发射救生球进行追踪，追踪其运动轨迹及最终落点。计算与目标点间的偏移，综合风速进行第二次补偿计算。（若偏移较小将不进入第四步） 第四，执行二次发射程序。使用进行二次补偿的结果进行发射。同时执行追踪程序（同步骤三） Opencv部分，核心代码如下 带动 方法 其中HSV颜色空间与人眼较为接近，一般以HSV为颜色检测和识别 H–色调（红-绿-蓝） S–饱和度（颜色深浅） V-亮度（颜色亮暗） opencv H范围（0-180） S(0-255) V(0-255) HSV二值化处理的函数CV\_EXPORTS\_W void inRange(InputArray src, InputArray lowerb,InputArray upperb, OutputArray dst); 算法：
2.  由于HSV的颜色空间比BGR空间更容易表示特定的颜色，故我们将BGR空间转换成HSV，
3.  然后设置HSV的阀值到指定的颜色范围，
4.  然后获取到指定颜色范围的物体，
5.  达到物体追踪目的，进行操作，如画圈 4.3 结构示意图 项目整体设计思路如下图1所示。水上救生物品投射装置结构示意图如图2所示。

图1 项目整体设计思路 图2 水上救生物品抛掷机构示意图

1.  详细设计 5.1. 功能1 5.1.1. 功能概述 水平角度及竖直角度调整控制 在本项目中，将水上物品投射装置安装于汽艇、船体等载体上，在实际救援过程中，物品发射的角度和距离要随着落水人员的位置进行相应的调整，拟通过赋予装置水平角度及竖直角度调整控制的方式实现此项功能。 5.1.2. 硬件实现 配件清单：步进电机、同步带轮、转盘轴承、拨叉、单片机、杜邦线、面包板 角度调整结构分为水平角度调整和竖直角度调整两部分，其中通过步进电机带动拨叉旋转，拨叉拨动转盘轴承实现水平角度调整；出于角度调整过程中转矩、调整范围的考虑，采用步进电机驱动、同步带轮传动的方式完成竖直角度调整。原理示意图如图3中①所示，实物如图4所示。 5.1.3. 软件实现 舵机采用PWM方式进行控制，通过程序改变占空比，改变其转动角度（如上图） 舵机的控制一般需要一个20ms左右的时基脉冲，该脉冲的高电平部分一般为0.5ms-2.5ms范围内的角度控制脉冲部分，总间隔为2ms。以180度角度伺服为例，那么对应的控制关系是这样的： 0.5ms————–0度； 1.0ms————45度； 1.5ms————90度； 2.0ms———–135度； 2.5ms———–180度； 这里通过arduino使用analogWrite函数改变占空比调整角度。 步进电机：

同样使用arduino采用digitalWrite函数来控制步进电机。 下附树莓派程序源代码：

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53

#!/usr/bin/env python32
import flask
from bottle import get,post,run,request,template
import RPi.GPIO as GPIO
import time
pin = 36 
GPIO.setmode(GPIO.BOARD) 
GPIO.setup(pin, GPIO.OUT) 
GPIO.setup(36, GPIO.OUT)
GPIO.setup(11, GPIO.OUT)
GPIO.setup(32, GPIO.OUT)
GPIO.setup(29, GPIO.OUT)
GPIO.setup(33, GPIO.OUT)
@get("/")
def index():
 return template("server.html")
@post("/cmd")
def cmd():
 print("pressed "+request.body.read().decode())
 if request.body.read().decode() == 'stop':
 print ("stop ok")
 GPIO.output(33, GPIO.HIGH)
 time.sleep(1)
 GPIO.output(33, GPIO.LOW)
 print ("stop down") 
 if request.body.read().decode() == 'left':
 print ("left ok")
 GPIO.output(29, GPIO.HIGH)
 time.sleep(1)
 GPIO.output(29, GPIO.LOW)
 print ("left down")
 if request.body.read().decode() == 'up':
 print ("up ok")
 GPIO.output(36, GPIO.HIGH)
 time.sleep(1)
 GPIO.output(36, GPIO.LOW)
 print ("u\[ down")
 if request.body.read().decode() == 'right':
 print ("right ok")
 GPIO.output(11, GPIO.HIGH)
 time.sleep(1)
 GPIO.output(11, GPIO.LOW)
 print ("right down")
 if request.body.read().decode() == 'down':
 print ("down ok")
 GPIO.output(32, GPIO.HIGH)
 time.sleep(1)
 GPIO.output(32, GPIO.LOW)
 print ("down down")

 return "OK"
run(host="0.0.0.0")

1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45

<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>遥控树莓派</title>
 <link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" media="screen">
 <script src="http://code.jquery.com/jquery.js"></script>
 <style type="text/css">
 #up {
 margin-left: 55px;
 margin-bottom: 3px;
 }
 #down {
 margin-top: 3px;
 margin-left: 55px;
 }
 </style>
 <script>
 $(function(){
 $("button").click(function(){
 $.post("/cmd",this.id,function(data,status){});
 });
 });

 </script>
</head>
<body>
<div id="container" class="container">
 <div>
 <button id="up" class="btn btn-lg btn-primary glyphicon glyphicon-circle-arrow-up"></button>
 </div>
 <div>
 <button id='left' class="btn btn-lg btn-primary glyphicon glyphicon-circle-arrow-left"></button>
 <button id='stop' class="btn btn-lg btn-primary glyphicon glyphicon-stop"></button>
 <button id='right' class="btn btn-lg btn-primary glyphicon glyphicon-circle-arrow-right"></button>
 </div>
 <div>
 <button id='down' class="btn btn-lg btn-primary glyphicon glyphicon-circle-arrow-down"></button>
 </div>

</div>

<script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</body>
</html>

5.2. 功能2 5.2.1. 功能概述 抛掷功能，通过摩擦轮抛掷救生物品 采用摩擦轮抛掷救生物品的优势在于：1、摩擦轮采用直流电机驱动，通过改变输入电压就可方便调整物品发射速度；2、摩擦轮发射机构具备间距调整装置，可以根据救生物品的尺寸大小合理调整发射间距，适用性强。 5.2.2. 硬件实现 配件清单：摩擦轮、直流电机、杜邦线、单片机 摩擦轮直接安装于直流电机转轴上，接通电路后电机带动摩擦轮旋转完成救生物品的发射任务，通过改变电机转速即可对救生物品发射距离做出相应调整。装置示意图如图3中②所示，实物如图5所示。 图5抛掷机构实物图 5.3. 功能3 5.3.1. 功能概述 救生物品存储 在开展水上救生工作时，救生物品的数量往往不止一种，为方便救援任务的顺利进行，需要对救生物品进行临时存储管理，便于安放和取用。为此，本项目设计了一种救生物品存储装置。 5.3.2. 硬件实现 配件清单：电机支架、多孔转盘、步进电机、杜邦线、单片机 存储装置可以实现救生物品的间歇性放置，可以根据需要调整物品放置的频率。具体实现方式为：步进电机固定于安装于发射平台的电机座上，多孔转盘安装于步进电机轴上。步进电机的每个孔位用于存放一件救生物品，电机驱动带动转盘转动，孔位到达既定位置后物品会被放置在指定位置。装置示意图如图3中③所示，实物如图6所示。 图6储物机构实物图

1.  产品测试 在实际测试中，曾出现和分析解决了以下的问题。 1.救生球出球过多，部分情况下曾出现出球不受控制，由于检测系统没有检测到球，而实际其已经到达应停止位置，造成出球部分仍继续出球。先以通过改检测装置解决 2.风速测量不准，由于风的大小具有随机性。一开始采用单次采样。造成补偿过多。现已通过增加采样次数并取平均数作为最终结果。 3.Opencv识别不精准，中途丢失跟踪物体。现无更好解决办法，将通过优化算法解决。 4.旋转部分转动不及时。一开始采用了舵机，但由于其扭矩不足，造成旋转缓慢甚至滑齿。故现已将其改为步进电机。
2.  结论 本次设计的水上救生物品抛掷装置，抛掷救生物品的角度范围可调，通过控制抛掷速度来控制抛掷距离，充分利用现有技术手段，实现水平角度调整、竖直角度调整及救援物品储存释放等功能，大大提升了装置自动化程度和实用性。使用本装置可使救援人员能对落水人员进行高效率、及时、准确的救助。 本装置的优点： 1）体积小，重量轻，救生效率较高。 2）操作和控制简便，任何工作人员很容易地使用它。 3）采用遥控装置避免了施救人员与落水者的身体接触，提高了安全性能。 4）近年来我国乃至世界各地的极端天气多发，雨季易出现强降雨情形，救灾救险的精确性、时效性、安全性等要求越来越高，本装置的应用前景广阔。
3.  市场前景 我们希望在水上救生物品抛掷装置领域参与竞争，基于现阶段我国以下市场特征进行分析，我们预测该装置的市场前景广阔，应用前景良好。 （1）国内水上救生市场发展潜力大。 我国南方夏季多雨，如1998年发生了历史上罕见的洪水灾害，特别是长江流域，发生了1954年以来又一次全流域型的大洪水，东北的嫩江和松花江也出现了特大洪水。洪水不仅造成了1600多亿元的经济损失，还夺走了很多人的生命。在发生洪水后，水上救援是一个要求快速反应的工作，因此我们需要尽快地实施营救，但在洪水中进行施救又是非常困难和危险的，现在的救生装置大都是一些救生筏和救生快艇，体积庞大，重量重，难以搬运，且需要救援人员在船上同时操作，加大了救援人员的危险。因此急需设计一种灵巧轻便、便于搬运的救生装置，且最好是在设定发射等参数后自动运行、实现过程中的无人操作，救援人员仅通过简便地操纵控制手柄就可为落水人员提供救生物品。因此，本救援装置的设计具有重要的实用意义。 （2）装置结构简单，操作方便，应用广泛。 该装置操作简单、价格低廉、经久耐用，可操纵性与平稳性优良，安全系数高。该产品可军民两用，可广泛适用于河边、湖边、江边和海边等复杂的救援场所，适合海上航运，内陆江河等短距离水险救援，尤其适合抗洪抢险、急流险滩等水上救生环境。同时，该作品功能多元化，也可用于陆上救援：如适用于岸对船、高楼或山涧、地震、雪灾等救援场合的抛绳作业，还可制成多种类、多用途的救援弹，可根据不同救援目的储存和抛掷不同类型的救援弹，因此具有极大的实用推广价值，市场前景非常广阔。参考文献 【1】 曹忠亮, 张旭亮, 胡佳伟,等. 一种弹射救生装置的设计与分析\[J\]. 齐齐哈尔大学学报(自然科学版), 2016, 32(2):70-72. 【2】 陆腾升, 陈绍培, 王庆鹏. 快速抛掷式水上救生浮具装置:, CN87200069\[P\]. 1987. 【3】 王安民, 辛彦龙. 美国RSI公司ResQmax远程抛掷救生枪\[J\]. 轻兵器, 2011(6). 【4】 李新明. 自动乒乓球发球机设计及其控制系统的探究\[J\]. 电子测试, 2014(s1):154-156. 【5】 王生捷, 苏成帅, 邱旭阳. 一种便携式双自由度平衡抛掷装置:, CN 102338594 A\[P\]. 2012. 【6】 季云峰, 施之皓, 王朝立,等. 基于视频识别的乒乓球发球裁判系统实验研究——针对抛球高度和抛球角度问题\[J\]. 计算机工程与应用, 2016, 52(10):207-212.